<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Â¿Me perdonas?</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #ffe6f2;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }

    h1 {
      color: #ff4d88;
      font-size: 2.3rem;
      margin-bottom: 30px;
    }

    .buttons {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }

    button {
      padding: 12px 24px;
      font-size: 1.2rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.2s ease;
    }

    #yesBtn {
      background-color: #ff99c8;
    }

    #noBtn {
      background-color: #b3b3b3;
    }

    #mensaje {
      margin-top: 20px;
      font-size: 1.1rem;
      color: #000;
      min-height: 30px;
    }
  </style>
</head>
<body>

  <h1>Me perdonas??? :c</h1>

  <div class="buttons">
    <button id="yesBtn">SÃ­</button>
    <button id="noBtn">No</button>
  </div>

  <div id="mensaje"></div>

  <script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const mensaje = document.getElementById('mensaje');

    // Escalas controladas (valores numÃ©ricos para evitar depender de fontSize/width)
    let yesScale = 1;
    let noScale = 1;

    let frases = [
      "En serio lo lamento :c",
      "Fue tan grave lo que hice??? :c",
      "Pq le sigues dando al no ...",
      "Ya basta :c",
      "Please forgive me ... I really care about you :c",
      "Ich mache das wirklich und mache es immer noch ... TatsÃ¤chlich habe ich es von Anfang an getan :)ï»¿",
      "Okeeey ... Lo de hablar en otros idiomas tampoco te convence??? :c",
      "IntentÃ©mos de nuevo ... Me perdonas??? :c",
      "Jasjaskj no caÃ­ste en lo de cambiar los botones eh??? ... Admite que fue un buen intento :)... Me perdonas???",
      "Todo el punto de este cÃ³digo es que me perdones :c ...Puedes hacerlo porfa :)???",
      "Vamos ... Me alegrarÃ­as el dÃ­a ... La semana ... El mes ... Y el resto del aÃ±o skjkajs :)",
      "Te lo pido una Ãºltima vez ... Me perdonas??? :c",
      "No lo pedirÃ© de nuevo ... Me perdonas???",
      "En serio esta es la Ãºltima vez ... Me perdonas???",
      "Porfa hazlo ... Escribir cansa :c ... Me perdonas???",
      "PORFAAAAAAAAAAAAAAAAAAAAAAAAAA ... PerdÃ³name :c",
      "Bueno no me dejas opciÃ³n",
      "Jajksajk ... Me perdonas??? :)",
    ];

    // Cuando el usuario presione SÃ (solo confirma)
    yesBtn.onclick = () => {
      // Ocultar botones
      yesBtn.style.display = "none";
      noBtn.style.display = "none";

      // Ocultar pregunta y carita
      const titulo = document.querySelector('h1');
      if (titulo) titulo.style.display = "none";

      // Fondo blanco
      document.body.style.background = "#ffffff";

      // Mostrar mensaje final
      mensaje.innerHTML = "<br>Jjaksjkasj ... SabÃ­a que me perdonarÃ­as te quiero mucho <3 ...<br><br>";

      // Agregar imagen encima del texto
      const img = document.createElement("img");
      img.src = "imagen_final.png";
      img.style.width = "180px";
      img.style.display = "block";
      img.style.margin = "0 auto 15px auto";
      img.style.animation = "aparecer 0.5s ease-out";

      mensaje.prepend(img);
    };

    // Cuando el usuario presione NO
    noBtn.onclick = () => {
      // Incrementar escala de SÃ
      yesScale = +(yesScale + 0.08).toFixed(3);
      yesBtn.style.transform = scale(${yesScale});

      // Reducir escala de NO
      noScale = Math.max(+(noScale - 0.08).toFixed(3), 0.32);
      noBtn.style.transform = scale(${noScale});

      // Fondo rosa cada vez mÃ¡s oscuro
      let current = document.body.dataset.pinkLevel ? Number(document.body.dataset.pinkLevel) : 220;
      current = Math.max(current - 8, 120);
      document.body.dataset.pinkLevel = current;
      document.body.style.background = rgb(255, ${current}, ${current});

      // Mover NO aleatoriamente
      const noRect = noBtn.getBoundingClientRect();
      const yesBox = yesBtn.getBoundingClientRect();
      const bodyWidth = window.innerWidth;
      const bodyHeight = window.innerHeight;

      let x, y, attempts = 0;
      do {
        x = Math.random() * (bodyWidth - noRect.width);
        y = Math.random() * (bodyHeight - noRect.height - 20) + 10;
        attempts++;
        if (attempts > 200) break;
      } while (!(x + noRect.width < yesBox.left || x > yesBox.right || y + noRect.height < yesBox.top || y > yesBox.bottom));

      noBtn.style.position = "absolute";
      noBtn.style.left = ${x}px;
      noBtn.style.top = ${y}px;

      // Teletransporte visual
      noBtn.animate([
        { opacity: 0, transform: scale(${noScale + 0.2}) },
        { opacity: 1, transform: scale(${noScale}) }
      ], { duration: 300, easing: 'ease-out' });

     // Frases en orden
  if (frases.length > 0) {
    mensaje.innerHTML = frases[0];
    frases.splice(0, 1); // Elimina la primera frase despuÃ©s de mostrarla
  } else {
    mensaje.innerHTML = "Ya no tengo mÃ¡s excusas... ðŸ˜”";
    noBtn.style.display = "none";
  }
      }
    };
  </script>

</body>
</html>
