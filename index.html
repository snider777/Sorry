<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Â¿Me perdonas?</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #ffe6f2;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 100vh;
      margin: 0;
      padding-top: 60px;
      overflow: hidden;
      text-align: center;
    }

    h1 {
      font-size: 28px;
      color: #d63384;
      margin-bottom: 40px;
      max-width: 90%;
    }

    #buttonContainer {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 60px;
      margin-top: 40px;
    }

    button {
      padding: 12px 28px;
      font-size: 22px;
      border: none;
      cursor: pointer;
      border-radius: 10px;
      transition: 0.3s;
    }

    #yesBtn {
      background-color: #ff66b2;
      color: white;
    }

    #noBtn {
      background-color: #ff4d4d;
      color: white;
      position: relative;
    }

    button:hover {
      transform: scale(1.12);
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
  </style>
</head>

<body>

  <h1 id="mainText">Â¿Me perdonas? ğŸ˜”ğŸ’—</h1>

  <div id="buttonContainer">
    <button id="yesBtn">SÃ­</button>
    <button id="noBtn">No</button>
  </div>

  <script>
    const frases = [
      "Â¿Segura que no? ğŸ˜¢",
      "PiÃ©nsalo bien... ğŸ¥º",
      "Me pondrÃ© triste ğŸ˜",
      "Muy muy triste ğŸ˜£",
      "Extremadamente triste ğŸ˜–",
      "Â¿No quieres verme feliz? ğŸ’”",
      "De verdad no?... ğŸ˜­",
      "Ok ya me doliÃ³... ğŸ’˜"
    ];

    let clickNo = 0;
    let fraseIndex = 0;

    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const mainText = document.getElementById("mainText");
    const container = document.getElementById("buttonContainer");

    // POSICIONES NORMALES FIJAS (para evitar sobreposiciÃ³n)
    let yesPos = { x: 0, y: 0 };
    let noPos = { x: 0, y: 0 };

    function setDefaultPositions() {
      yesBtn.style.position = "relative";
      noBtn.style.position = "relative";

      yesBtn.style.left = "0px";
      yesBtn.style.top = "0px";

      noBtn.style.left = "0px";
      noBtn.style.top = "0px";
    }

    setDefaultPositions();

    function moveNoSafely() {
      let offsetX = (Math.random() * 240 - 120);
      let offsetY = (Math.random() * 160 - 80);

      // Evitar que se acerque al SÃ mÃ¡s de 150px
      let dx = offsetX;
      let dy = offsetY;

      if (Math.abs(dx) < 140 && Math.abs(dy) < 110) {
        dx = dx < 0 ? dx - 120 : dx + 120;
        dy = dy < 0 ? dy - 120 : dy + 120;
      }

      noBtn.style.left = dx + "px";
      noBtn.style.top = dy + "px";
    }

    function swapPositions() {
      const tempLeft = yesBtn.style.left;
      const tempTop = yesBtn.style.top;

      yesBtn.style.left = noBtn.style.left;
      yesBtn.style.top = noBtn.style.top;

      noBtn.style.left = tempLeft;
      noBtn.style.top = tempTop;
    }

    noBtn.addEventListener("click", () => {
      clickNo++;

      // Cambiar frase sin romper nada
      fraseIndex = (fraseIndex + 1) % frases.length;
      mainText.textContent = frases[fraseIndex];

      // CLIC 8 â†’ Intercambiar
      if (clickNo === 8) {
        swapPositions();
        return;
      }

      // CLIC 9 â†’ Volver a intercambiar y restaurar comportamiento normal
      if (clickNo === 9) {
        swapPositions();
        return;
      }

      // DespuÃ©s del click 9 â†’ El "No" vuelve a moverse pero SIN acercarse al "SÃ­"
      if (clickNo > 9) {
        moveNoSafely();
      }
    });

    yesBtn.addEventListener("click", () => {
      mainText.textContent = "Â¡SabÃ­a que dirÃ­as que sÃ­! ğŸ˜ğŸ’–";

      // ELIMINAR EL NO AL FINAL
      noBtn.style.animation = "fadeOut 0.7s forwards";
      setTimeout(() => {
        noBtn.remove();
      }, 700);
    });

  </script>

</body>
</html>
